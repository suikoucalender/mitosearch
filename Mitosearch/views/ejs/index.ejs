<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="99fifQZxW5GTQS0H1k0Pqa0hO9tvWhuBFxvjhC1z1qg" />

    <title>MitoSearch</title>
    <link rel="stylesheet" href='stylesheets/main.css'>
    <link rel="stylesheet" href="bootstrap-4.5.0-dist/css/bootstrap.min.css">

    <link rel="stylesheet" href='leaflet/leaflet.css'>
    <script src='leaflet/leaflet.js'></script>

    <link href="noUiSlider-15.6.1/dist/nouislider.css" rel="stylesheet">
    <script src="noUiSlider-15.6.1/dist/nouislider.js"></script>
    <script src="wnumb-1.2.0/wNumb.js"></script>

    <script src='javascripts/jquery-3.6.0.js'></script>
    <script src="d3/d3.js"></script>

    <!-- markerClusterGroup -->
    <script src="markerClusterGroup/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.rawgit.com/hayeswise/Leaflet.PointInPolygon/v1.0.0/wise-leaflet-pip.js"></script>
    <link rel="stylesheet" href="markerClusterGroup/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="markerClusterGroup/dist/MarkerCluster.Default.css" />

    <!-- Select2.css -->
    <link rel="stylesheet" href="select2/dist/css/select2.min.css">

    <!-- Select2�ｿｽ{�ｿｽ�ｿｽ -->
    <script src="select2/dist/js/select2.min.js"></script>

    <!-- Select2�ｿｽ�ｿｽ�ｿｽ{�ｿｽ皷ｻ -->
    <script src="select2/dist/js/i18n/ja.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JSBFZZQ0RX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JSBFZZQ0RX');
    </script>

    <style>
        div.parent{
            float: right;
        }
        div.son{
            width:100%;
        }
    </style>

</head>

<body>
    <header id="top-header">
        <p>MitoSearch</p>
        <p id="explain">We constructed MitoSearch, a fish species composition database, using 4355 sequence data of 12S ribosomal RNA genes obtained by amplifying eDNA (environmental DNA) with MiFish primers in order to understand fish species composition around the world.</p>
        <ul id="nav">
            <li class="disabled"><a href="./">Top</a></li>
            <li><a href="./about">About</a></li>
            <li></li>
            <td><div class="btn-separator"></div></td>
            <div>
            <% if (taxo === 'fish') { %>
            <button class="data_changer_off" id="fish" disabled="true">Fish</button>
            <button class="data_changer_on" id="mollusk">Mollusk</button>
            <% } else if (taxo === 'mollusk') { %>
            <button class="data_changer_on" id="fish" >Fish</button>
            <button class="data_changer_off" id="mollusk" disabled="true">Mollusk</button>
            <% } %>
            </div>
        </ul>

    </header>
    <main>
        <div id="img" style="height: 80%; width: 100%;">
            <p>Click Image To Close</p>
            <img src="img/Taxonomy.png" style="height: 80%; width: 80%;">
        </div>

        <div id="form">
            <form style="width: 95%; float: left;">
                <select id="filter" class="test-select2" multiple="multiple" style="height: 35px;">
                  <% AllFishList.forEach(fishName => { %>
                    <option><%= fishName %></option>
                  <% }) %>
                </select>
                <input id="button" type="button" value="Filter">
            </form>
            <button title="Show the full period of records" class="icon2" id="alltime"><img src="img/alltime.png"></button>
            <button title="Show recent records by month" class="icon2" id="monthly"><img src="img/monthly.png"></button>
        </div>

        <div>
            <button title="Legend" class="icon" id="help"><img src="img/help.png"></button>
            <button title="Map panel expansion" class="icon" id="expansion"><img src="img/expansion.png"></button>
            <button title="Map panel restoration" class="icon" id="restore"><img src="img/restore.png"></button>

            <button title="Reset of button status" class="iconPolygon2on" id="undo"><img src="img/reset.png"></button>
            <button title="Vertex point addition" class="iconPolygon" id="point"><img src="img/marker.png"></button>

        </div>
        <div id="content" style="height: 75%; width: 100%;">
            <div id="map" style="height: 1000px; width: 40%;"></div>
            <p style="width: 60%; float:right; text-align: right;" id="graphName">Number of Samples</p>
            <div id="bargraphAlltime" style="height: 100px; width: 60%;"></div>
            <div class="parent" id="sliderArea" style="height: 60px;">
                <div class="son" id="slider"></div>
                <span id="event-start"></span>
                <span id="event-end"></span>
                <div id="lowerHandleNumber" class="handleNumber"></div>
                <div id="upperHandleNumber" class="handleNumber"></div>
            </div>
            <div id="bargraph" style="height: 80px; width: 60%;"></div>
            <div id="graph" style="height: 700px; width: 60%;"></div>
        </div>

        <div id="tmp"></div>
        
    </main>
    <script>
        let sampleDataSet =  <%-JSON.stringify(sampleDataObjList)%>;
        let fishClassifyDataObj =  <%-JSON.stringify(fishClassifyDataObj)%>;
        let taxo =  <%-JSON.stringify(taxo)%>;
        const sampleLen = sampleDataSet.length;
        console.log(sampleLen);
        var latitude = <%-JSON.stringify(latitude)%>;
        var longitude = <%-JSON.stringify(longitude)%>;
        var ratio = <%-JSON.stringify(ratio)%>;
        var map;

    </script>
    <script src="javascripts/timePicker.js"></script>
    <script src="javascripts/drawSelectbox.js"></script>
    <script src="javascripts/polygon.js"></script>
    <script src="javascripts/drawPie.js"></script>
    <script src="javascripts/drawLiddgeLine.js"></script>
    <script src="javascripts/showLegend.js"></script>
    <script src="javascripts/iconLocation.js"></script>
    <script src="javascripts/timechange.js"></script>
</body>


</html>
